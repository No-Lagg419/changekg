-- üêæ Pet Changer KG - Mobile Friendly Version
-- By ChatGPT

local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer

-- üìú Updated Pet List (Optimized in one line)
local petList = {
    "Bunny","Dog","Golden Lab","Starfish","Crab","Seagull","Bagel Bunny","Bee","Sunny-Side Chicken","Bacon Pig","Flamingo","Toucan","Sea Turtle",
    "Orangutan","Seal","Honey Bee","Wasp","Pancake Mole","Grey Mouse","Tarantula Hawk","Caterpillar","Snail","Petal Bee","Moth","Scarlet Macaw",
    "Ostrich","Peacock","Capybara","Gorilla Chef","Hotdog Daschund","Sushi Bear","Brown Mouse","Giant Ant","Praying Mantis","Red Giant Ant",
    "Squirrel","Bear Bee","Butterfly","Pack Bee","Mimic Octopus","Red Fox","Dragonfly","Disco Bee","Queen Bee","French Fry Ferret","Lobster Thermidor",
    "Raccoon"
}

-- üñ• GUI Creation
local ScreenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 250, 0, 220)
Frame.Position = UDim2.new(0.3, 0, 0.3, 0)
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Frame.BackgroundTransparency = 0.1
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true

-- Title
local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundTransparency = 1
Title.Text = "Pet Changer KG"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 16

-- Search Box
local SearchBox = Instance.new("TextBox", Frame)
SearchBox.Size = UDim2.new(1, -10, 0, 25)
SearchBox.Position = UDim2.new(0, 5, 0, 35)
SearchBox.PlaceholderText = "Search Pet..."
SearchBox.Text = ""
SearchBox.TextColor3 = Color3.fromRGB(255, 255, 255)
SearchBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
SearchBox.BorderSizePixel = 0
SearchBox.Font = Enum.Font.Gotham
SearchBox.TextSize = 14

-- Pet List (ScrollingFrame)
local PetListFrame = Instance.new("ScrollingFrame", Frame)
PetListFrame.Size = UDim2.new(1, -10, 0, 100)
PetListFrame.Position = UDim2.new(0, 5, 0, 65)
PetListFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
PetListFrame.BackgroundTransparency = 1
PetListFrame.BorderSizePixel = 0
PetListFrame.ScrollBarThickness = 4
PetListFrame.Visible = false -- hidden until search

-- KG Box
local KgBox = Instance.new("TextBox", Frame)
KgBox.Size = UDim2.new(1, -10, 0, 25)
KgBox.Position = UDim2.new(0, 5, 0, 170)
KgBox.PlaceholderText = "Enter KG..."
KgBox.Text = ""
KgBox.TextColor3 = Color3.fromRGB(255, 255, 255)
KgBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
KgBox.BorderSizePixel = 0
KgBox.Font = Enum.Font.Gotham
KgBox.TextSize = 14

-- Apply Button
local ApplyButton = Instance.new("TextButton", Frame)
ApplyButton.Size = UDim2.new(1, -10, 0, 25)
ApplyButton.Position = UDim2.new(0, 5, 0, 200)
ApplyButton.Text = "Apply Size"
ApplyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ApplyButton.BackgroundColor3 = Color3.fromRGB(70, 130, 180)
ApplyButton.BorderSizePixel = 0
ApplyButton.Font = Enum.Font.GothamBold
ApplyButton.TextSize = 14

-- Loading Bar
local LoadingBarBG = Instance.new("Frame", Frame)
LoadingBarBG.Size = UDim2.new(1, -10, 0, 5)
LoadingBarBG.Position = UDim2.new(0, 5, 1, -10)
LoadingBarBG.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
LoadingBarBG.BorderSizePixel = 0
local LoadingBar = Instance.new("Frame", LoadingBarBG)
LoadingBar.Size = UDim2.new(0, 0, 1, 0)
LoadingBar.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
LoadingBar.BorderSizePixel = 0

-- üåü Functions
local selectedPet = nil

local function refreshPetList(searchText)
    for _, child in ipairs(PetListFrame:GetChildren()) do
        if child:IsA("TextButton") then child:Destroy() end
    end
    if searchText == "" then
        PetListFrame.Visible = false
        return
    end
    PetListFrame.Visible = true
    local yPos = 0
    for _, pet in ipairs(petList) do
        if string.find(string.lower(pet), string.lower(searchText)) then
            local PetButton = Instance.new("TextButton", PetListFrame)
            PetButton.Size = UDim2.new(1, 0, 0, 20)
            PetButton.Position = UDim2.new(0, 0, 0, yPos)
            PetButton.Text = pet
            PetButton.TextColor3 = Color3.fromRGB(255, 255, 255)
            PetButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
            PetButton.Font = Enum.Font.Gotham
            PetButton.TextSize = 12
            PetButton.MouseButton1Click:Connect(function()
                selectedPet = pet
                SearchBox.Text = pet
                PetListFrame.Visible = false
            end)
            yPos = yPos + 22
        end
    end
    PetListFrame.CanvasSize = UDim2.new(0, 0, 0, yPos)
end

SearchBox:GetPropertyChangedSignal("Text"):Connect(function()
    refreshPetList(SearchBox.Text)
end)

ApplyButton.MouseButton1Click:Connect(function()
    if not selectedPet or KgBox.Text == "" then return end
    LoadingBar.Size = UDim2.new(0, 0, 1, 0)
    TweenService:Create(LoadingBar, TweenInfo.new(1), {Size = UDim2.new(1, 0, 1, 0)}):Play()
    task.wait(1)
    for _, obj in ipairs(Workspace:GetDescendants()) do
        if obj.Name == selectedPet and obj:IsA("Model") then
            obj:SetPrimaryPartCFrame(obj.PrimaryPart.CFrame) -- refresh pos
            obj.PrimaryPart.Size = Vector3.new(tonumber(KgBox.Text), tonumber(KgBox.Text), tonumber(KgBox.Text))
        end
    end
end)
