-- Pet KG Changer (Visual Only) - Grow a Garden Theme
-- Made for mobile + PC

local TOGGLE_KEY = Enum.KeyCode.RightControl -- desktop toggle
local player = game.Players.LocalPlayer
local gui = Instance.new("ScreenGui")
gui.Name = "PetKGChanger"
gui.Parent = player:WaitForChild("PlayerGui")
gui.ResetOnSpawn = false

-- Main Frame
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 320, 0, 280)
mainFrame.Position = UDim2.new(0.5, -160, 0.5, -140)
mainFrame.BackgroundColor3 = Color3.fromRGB(198, 239, 206) -- soft green
mainFrame.BorderSizePixel = 0
mainFrame.Visible = true
mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
mainFrame.Parent = gui
mainFrame.Active = true
mainFrame.Draggable = true

-- UI Corner
local corner = Instance.new("UICorner", mainFrame)
corner.CornerRadius = UDim.new(0, 16)

-- Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundTransparency = 1
title.Text = "PET KG CHANGER"
title.Font = Enum.Font.GothamBold
title.TextSize = 20
title.TextColor3 = Color3.fromRGB(34, 85, 34)
title.Parent = mainFrame

-- UI Layout
local listLayout = Instance.new("UIListLayout", mainFrame)
listLayout.Padding = UDim.new(0, 6)
listLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
listLayout.SortOrder = Enum.SortOrder.LayoutOrder

-- Spacer for title
Instance.new("Frame", mainFrame).Size = UDim2.new(1,0,0,0)

-- Function to create TextBox
local function createTextBox(placeholder)
    local box = Instance.new("TextBox")
    box.Size = UDim2.new(0.9, 0, 0, 30)
    box.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    box.PlaceholderText = placeholder
    box.Font = Enum.Font.Gotham
    box.TextSize = 16
    box.Text = ""
    box.TextColor3 = Color3.fromRGB(0, 0, 0)
    box.ClearTextOnFocus = false
    box.Parent = mainFrame
    Instance.new("UICorner", box).CornerRadius = UDim.new(0, 8)
    return box
end

-- Inputs
local petNameBox = createTextBox("Pet Name")
local oldKGBox = createTextBox("Old KG")
local newKGBox = createTextBox("New KG")

-- Progress Bar Frame
local progressFrame = Instance.new("Frame")
progressFrame.Size = UDim2.new(0.9, 0, 0, 20)
progressFrame.BackgroundColor3 = Color3.fromRGB(230, 255, 230)
progressFrame.Visible = false
progressFrame.Parent = mainFrame
Instance.new("UICorner", progressFrame).CornerRadius = UDim.new(0, 8)

-- Fill
local progressFill = Instance.new("Frame")
progressFill.Size = UDim2.new(0, 0, 1, 0)
progressFill.BackgroundColor3 = Color3.fromRGB(144, 238, 144)
progressFill.Parent = progressFrame
Instance.new("UICorner", progressFill).CornerRadius = UDim.new(0, 8)

-- Stripe effect
local stripe = Instance.new("UIGradient", progressFill)
stripe.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(144, 238, 144)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
})
stripe.Rotation = 45

-- Buttons
local function createButton(text, color)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0.9, 0, 0, 35)
    btn.BackgroundColor3 = color
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 16
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Text = text
    btn.Parent = mainFrame
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 8)
    return btn
end

local updateBtn = createButton("UPDATE KG", Color3.fromRGB(67, 160, 71))
local resetBtn = createButton("RESET KG", Color3.fromRGB(255, 112, 67))

-- Log Label
local logLabel = Instance.new("TextLabel")
logLabel.Size = UDim2.new(0.9, 0, 0, 30)
logLabel.BackgroundTransparency = 1
logLabel.Font = Enum.Font.Gotham
logLabel.TextSize = 14
logLabel.TextColor3 = Color3.fromRGB(50, 50, 50)
logLabel.Text = ""
logLabel.Parent = mainFrame

-- Update Function
local function startUpdate()
    if petNameBox.Text == "" or oldKGBox.Text == "" or newKGBox.Text == "" then
        logLabel.Text = "Please fill all fields."
        return
    end
    
    progressFrame.Visible = true
    progressFill.Size = UDim2.new(0, 0, 1, 0)
    logLabel.Text = "Updating KG..."
    
    -- Animate progress bar
    for i = 0, 1, 0.02 do
        progressFill.Size = UDim2.new(i, 0, 1, 0)
        stripe.Offset = Vector2.new(i*2, 0)
        task.wait(0.02)
    end
    
    logLabel.Text = petNameBox.Text .. ": " .. oldKGBox.Text .. " KG â†’ " .. newKGBox.Text .. " KG"
    progressFrame.Visible = false
end

-- Reset Function
local function resetFields()
    petNameBox.Text = ""
    oldKGBox.Text = ""
    newKGBox.Text = ""
    logLabel.Text = ""
end

updateBtn.MouseButton1Click:Connect(startUpdate)
resetBtn.MouseButton1Click:Connect(resetFields)

-- Desktop toggle
game:GetService("UserInputService").InputBegan:Connect(function(input, gp)
    if not gp and input.KeyCode == TOGGLE_KEY then
        mainFrame.Visible = not mainFrame.Visible
    end
end)
